<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Relational model and SQL | @kyungyunlee&#39;s notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/TIL/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <meta name="description" content="My Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.e7d1670b.css" as="style"><link rel="preload" href="/TIL/assets/js/app.b54981e3.js" as="script"><link rel="preload" href="/TIL/assets/js/2.3a8afc01.js" as="script"><link rel="preload" href="/TIL/assets/js/9.48c2c820.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.bb0c8f94.js"><link rel="prefetch" href="/TIL/assets/js/11.ec3cb4f4.js"><link rel="prefetch" href="/TIL/assets/js/12.84d57a10.js"><link rel="prefetch" href="/TIL/assets/js/13.228e566e.js"><link rel="prefetch" href="/TIL/assets/js/14.b82799cb.js"><link rel="prefetch" href="/TIL/assets/js/15.eafc3dfe.js"><link rel="prefetch" href="/TIL/assets/js/16.c9e95b00.js"><link rel="prefetch" href="/TIL/assets/js/17.d265fe11.js"><link rel="prefetch" href="/TIL/assets/js/18.675db92c.js"><link rel="prefetch" href="/TIL/assets/js/19.0c5688a1.js"><link rel="prefetch" href="/TIL/assets/js/20.edd87bbc.js"><link rel="prefetch" href="/TIL/assets/js/21.687e3027.js"><link rel="prefetch" href="/TIL/assets/js/22.31e363bf.js"><link rel="prefetch" href="/TIL/assets/js/23.9756ae8c.js"><link rel="prefetch" href="/TIL/assets/js/24.3e32edd7.js"><link rel="prefetch" href="/TIL/assets/js/3.d96adee9.js"><link rel="prefetch" href="/TIL/assets/js/4.f081eb3d.js"><link rel="prefetch" href="/TIL/assets/js/5.4a715a46.js"><link rel="prefetch" href="/TIL/assets/js/6.40ee570f.js"><link rel="prefetch" href="/TIL/assets/js/7.5937946b.js"><link rel="prefetch" href="/TIL/assets/js/8.c1c83e0f.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.e7d1670b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">@kyungyunlee's notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kyungyunlee/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kyungyunlee.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kyungyunlee/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kyungyunlee.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Monthly I Learned</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Database</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/Database/1_relational_model.html" aria-current="page" class="active sidebar-link">Relational model and SQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/Database/1_relational_model.html#relational-model" class="sidebar-link">Relational model</a></li><li class="sidebar-sub-header"><a href="/TIL/Database/1_relational_model.html#advanced-sql" class="sidebar-link">Advanced SQL</a></li></ul></li><li><a href="/TIL/Database/2_database_storage.html" class="sidebar-link">Database storage</a></li><li><a href="/TIL/Database/3_acid.html" class="sidebar-link">ACID properties</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/TIL/Books/" class="sidebar-link">Books</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="relational-model-and-sql"><a href="#relational-model-and-sql" class="header-anchor">#</a> Relational model and SQL</h1> <p>2021.8.20</p> <h2 id="relational-model"><a href="#relational-model" class="header-anchor">#</a> Relational model</h2> <p>Reviewing databases with <a href="https://15445.courses.cs.cmu.edu/fall2019/" target="_blank" rel="noopener noreferrer">CMU database course<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The development of DBMS and the concept of relational data model revolutionized the way users interact with the database.
Before, the logical and physical layer of the database application made it necessary for users to update both physical and logical layer.
Nowadays, users simply use SQL to make any queries, while the physical workings with the database is hidden as a black box and can be implemented in many different ways.
Therefore, users do not have to worry about what is happening under cover.</p> <p>Following 3 concepts are the main ideas of the relational model</p> <ul><li>structure: data have attributes which describe their relations</li> <li>integrity: each attribute has to follow certain rules</li> <li>manipulation: data can be freely modified into new data</li></ul> <p>Relational algebra describes how to process queries on the database.</p> <ul><li>select</li> <li>projection: aka. where</li> <li>union: aka. union all</li> <li>intersection: appears in both relations. aka. intersect</li> <li>difference: appears in the first relation and not in the second relation. aka. except</li> <li>product : aka. cross join</li> <li>join</li></ul> <p>Relational model is independent of any query language implementation.</p> <p>2021.08.21</p> <h2 id="advanced-sql"><a href="#advanced-sql" class="header-anchor">#</a> Advanced SQL</h2> <p>SQL dates back to 1970s, created by IBM.</p> <p>SQL is based on bags.</p> <ul><li>lists : ordered, duplicates</li> <li>sets : unordered, no duplicates</li> <li>bags : unordered, duplicates</li></ul> <p>Relational languages: DML, DDL, DCL</p> <h3 id="window-functions"><a href="#window-functions" class="header-anchor">#</a> Window functions</h3> <p>Unlike &quot;group by&quot;, window functions will list out all tuples but the aggregation function as an added column.</p> <p>ex.
select *, row_number() over (partition by id)</p> <h3 id="common-table-expressions-ctes"><a href="#common-table-expressions-ctes" class="header-anchor">#</a> Common table expressions (CTEs)</h3> <p>CTEs vs Views</p> <ul><li>CTEs exists in memory only</li> <li>Views store SQL query, not the output of the query, and it is physically stored in disk</li> <li>Ad-hoc queries and lighter queries -&gt; use CTE</li> <li>Commonly reused queries -&gt; use views</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/MIL/mil-2108.html" class="prev">
        2021.08
      </a></span> <span class="next"><a href="/TIL/Database/2_database_storage.html">
        Database storage
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.b54981e3.js" defer></script><script src="/TIL/assets/js/2.3a8afc01.js" defer></script><script src="/TIL/assets/js/9.48c2c820.js" defer></script>
  </body>
</html>
