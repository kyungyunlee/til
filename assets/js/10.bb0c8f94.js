(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{359:function(e,a,t){"use strict";t.r(a);var s=t(39),i=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"database-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database-storage"}},[e._v("#")]),e._v(" Database storage")]),e._v(" "),t("p",[e._v("Database is stored on disk, so the DBMS has to bring the data into memory.")]),e._v(" "),t("p",[e._v("In DBMS, the query execution engine will ask the buffer pool to return specific data. The buffer pool is responsible for moving the data into and out of memory.")]),e._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://i.loli.net/2021/08/23/zWqauc4I5HXNPBV.png",alt:"스크린샷 2021-08-23 오후 9.50.05"}}),e._v(" "),t("p",[e._v("DBMS essentially is similar to the concept of virtual memory, in that the user is tricked to believing that their entire database is available in memory, but in reality, only a small amount of data is cached locally.\nInstead of relying on OS, DBMS implements its own disk to memory operations.")]),e._v(" "),t("h3",{attrs:{id:"files-and-pages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#files-and-pages"}},[e._v("#")]),e._v(" Files and pages")]),e._v(" "),t("p",[e._v("Data is organized as files in the disk, which are composed of one or more pages. Commonly, page size varies from 512MB to 16KB.\nPages are fixed-sized atomic unit of data.")]),e._v(" "),t("h3",{attrs:{id:"how-are-files-stored"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-are-files-stored"}},[e._v("#")]),e._v(" How are files stored?")]),e._v(" "),t("p",[e._v("It is responsible for managing files. It organizes files as a collection of pages.")]),e._v(" "),t("h3",{attrs:{id:"how-are-pages-stored-heap-file-organization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-are-pages-stored-heap-file-organization"}},[e._v("#")]),e._v(" How are pages stored? - Heap file organization")]),e._v(" "),t("p",[e._v('We need to track which pages are where and which ones are empty.\nIt is often implemented as page directory structure, where there is a special page, called "page directory", which tracks all the pages in the database.')]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/08/23/2wGyhsFfat73NOT.png",alt:"스크린샷 2021-08-23 오후 9.55.38"}}),e._v(" "),t("h3",{attrs:{id:"within-the-page-how-are-data-organized-slotted-pages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#within-the-page-how-are-data-organized-slotted-pages"}},[e._v("#")]),e._v(" Within the page, how are data organized? - Slotted pages")]),e._v(" "),t("p",[e._v("Within each page, variable sized tuples are stored along with its slot id. The header contains the metadata about the tuples in the page, and from the beginning of the page, each slot's offset is saved.")]),e._v(" "),t("p",[e._v("The actual tuple data is stored from the end of the page.")]),e._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://i.loli.net/2021/08/23/UH9xefQkmWjcC3r.png",alt:"스크린샷 2021-08-23 오후 9.58.26"}}),e._v(" "),t("h3",{attrs:{id:"reference"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[e._v("#")]),e._v(" Reference")]),e._v(" "),t("ul",[t("li",[e._v("All images and notes from CMU database course")])])])}),[],!1,null,null,null);a.default=i.exports}}]);